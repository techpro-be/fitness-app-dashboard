<div class="auth-background" fxLayout="column" fxLayoutAlign="center center">
  <div fxLayout="column">
    <div>
      <mat-card class="mat-register">
        <div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="1rem">
          <mat-icon>account_circle</mat-icon>
          <h3>REGISTER</h3>
        </div>

        <mat-card-content>
          <form fxLayout="column" fxLayoutAlign="start stretch" [formGroup]="registerForm" (ngSubmit)="onSubmit()">
            <div fxLayout="row" fxLayoutGap="1rem">
              <mat-form-field>
                <input type="name" matInput placeholder="First name" formControlName="first_name" required />
                <mat-error *ngIf="!registerForm.controls['first_name'].valid">Name is required.</mat-error>
              </mat-form-field>

              <mat-form-field>
                <input matInput placeholder="Last name" formControlName="last_name" required />
                <mat-error *ngIf="!registerForm.controls['last_name'].valid">Surname is required.</mat-error>
              </mat-form-field>
            </div>

            <div fxLayout="row" fxLayoutGap="1rem">
              <mat-form-field>
                <input matInput placeholder="Enter email" formControlName="email" required />

                <mat-error *ngIf="!registerForm.controls['email'].valid">Email is required.</mat-error>
              </mat-form-field>

              <mat-form-field>
                <input matInput placeholder="Enter username" formControlName="username" required />
                <mat-error *ngIf="!registerForm.controls['username'].valid">
                  Username is required.
                </mat-error>
              </mat-form-field>
            </div>

            <div fxLayout="row" fxLayoutGap="1rem">
              <mat-form-field hintLabel="Min 8 characters">
                <input
                  #input
                  type="password"
                  minlength="8"
                  matInput
                  placeholder="Enter password"
                  formControlName="password"
                  required
                />
                <mat-hint align="end">{{ input.value?.length || 0 }}/8</mat-hint>
                <mat-error *ngIf="registerForm.hasError('required', 'password')">
                  Password is <strong> required.</strong>
                </mat-error>
              </mat-form-field>

              <mat-form-field>
                <input
                  matInput
                  type="password"
                  placeholder="Confirm password"
                  formControlName="confirm_password"
                  required
                />
                <mat-error *ngIf="registerForm.hasError('required', 'confirm_password')">
                  Please confirm password.
                </mat-error>
                <mat-error *ngIf="registerForm.controls['confirm_password'].errors?.notMatchingPasswords === true">
                  Password doesn't match!
                </mat-error>
              </mat-form-field>
            </div>

            <div fxLayout="row" class="mt-2" fxLayoutAlign="center center">
              <button mat-raised-button [disabled]="isLoading" color="primary" type="submit">
                Register
              </button>
            </div>
          </form>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>
